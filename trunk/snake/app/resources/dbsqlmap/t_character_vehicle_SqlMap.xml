<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="t_character_vehicle">
	<typeAlias alias="CharacterVehicle" type="net.snake.gamemodel.fight.bean.CharacterVehicle" />
	<resultMap id="CharacterVehicleRes" class="CharacterVehicle">
		<result column="f_id" property="id" jdbcType="INTEGER" />
		<result column="f_character_id" property="characterId" jdbcType="INTEGER" />
		<result column="f_vehicle_id" property="vehicleId" jdbcType="INTEGER" />
		<result column="f_vehicle_count" property="vehicleCount" jdbcType="INTEGER" />
	</resultMap>

	<select id="selectByCharacterId" resultMap="CharacterVehicleRes" parameterClass="java.lang.Integer">
		select f_id, f_character_id, f_vehicle_id, f_vehicle_count from t_character_vehicle where
		f_character_id=#characterId#
	</select>

	<delete id="deleteByPrimaryKey" parameterClass="java.lang.Integer">
		delete from t_character_vehicle where f_id = #id#
	</delete>

	<insert id="insert" parameterClass="CharacterVehicle">
		insert into t_character_vehicle (f_character_id, f_vehicle_id,f_vehicle_count)
		values (#characterId:INTEGER#, #vehicleId:INTEGER#, #vehicleCount:INTEGER#)
		<selectKey resultClass="java.lang.Integer" keyProperty="id">
			SELECT LAST_INSERT_ID()
		</selectKey>
	</insert>

	<update id="updateByPrimaryKey" parameterClass="CharacterVehicle">
		update t_character_vehicle
		set f_character_id = #characterId:INTEGER#,
		f_vehicle_id = #vehicleId:INTEGER#,
		f_vehicle_count =
		#vehicleCount:INTEGER#
		where f_id = #id:INTEGER#
	</update>
</sqlMap>