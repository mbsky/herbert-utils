<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="t_scene_bangqi">
	<typeAlias alias="SceneBangqi" type="net.snake.gamemodel.faction.bean.SceneBangqi" />
	<resultMap class="SceneBangqi" id="SceneBangqiRes">
		<result column="f_id" jdbcType="INTEGER" property="id" />
		<result column="f_bangqi_position_id" jdbcType="INTEGER" property="bangqiPositionId" />
		<result column="f_now_hp" jdbcType="INTEGER" property="nowHp" />
		<result column="f_faction_id" jdbcType="INTEGER" property="factionId" />
		<result column="f_line" jdbcType="INTEGER" property="line" />
		<result column="f_max_hp" jdbcType="INTEGER" property="maxHp" />
	</resultMap>

	<select id="queryall" resultMap="SceneBangqiRes">
		select * from t_scene_bangqi
	</select>

	<delete id="deleteByFactionId" parameterClass="java.lang.Integer">
		delete from
		t_scene_bangqi where f_faction_id = #factionId#
	</delete>

	<delete id="deleteById" parameterClass="java.lang.Integer">
		delete from
		t_scene_bangqi where f_id = #id#
	</delete>

	<insert id="insert" parameterClass="SceneBangqi">
		insert into t_scene_bangqi (f_bangqi_position_id, f_now_hp,
		f_faction_id, f_line, f_max_hp)
		values (#bangqiPositionId:INTEGER#,
		#nowHp:INTEGER#, #factionId:INTEGER#,
		#line:INTEGER#,
		#maxHp:INTEGER#)
		<selectKey keyProperty="id" resultClass="java.lang.Integer">
			SELECT LAST_INSERT_ID()
		</selectKey>
	</insert>

	<update id="updateHpMpById" parameterClass="SceneBangqi">
		update t_scene_bangqi set f_now_hp = #nowHp#,f_max_hp = #maxHp# where f_id = #id#
	</update>
</sqlMap>