<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="t_feast_join">
	<typeAlias alias="FeastJoin" type="net.snake.gamemodel.wedding.bean.FeastJoin" />
	<resultMap class="FeastJoin" id="FeastJoinRes">
		<result column="f_id" jdbcType="INTEGER" property="id" />
		<result column="f_applyer" jdbcType="INTEGER" property="applyer" />
		<result column="f_characterid" jdbcType="INTEGER" property="characterid" />
		<result column="f_gift" jdbcType="INTEGER" property="gift" />
		<result column="f_mateid" jdbcType="INTEGER" property="mateid" />
	</resultMap>
	<select id="queryall" parameterClass="FeastJoin" resultMap="FeastJoinRes">
		select f_id, f_applyer, f_characterid, f_gift, f_mateid
		from t_feast_join where
		f_applyer=#applyer# and
		f_mateid=#mateid#
	</select>

	<delete id="deleteByApplyerAndMateid" parameterClass="FeastJoin">
		delete from t_feast_join where f_applyer=#applyer# and f_mateid=#mateid#
	</delete>

	<insert id="insert" parameterClass="FeastJoin">
		insert into t_feast_join (f_applyer, f_characterid, f_gift, f_mateid)
		values (#applyer:INTEGER#, #characterid:INTEGER#, #gift:INTEGER#,
		#mateid:INTEGER#)
		<selectKey keyProperty="id" resultClass="java.lang.Integer">
			SELECT LAST_INSERT_ID()
		</selectKey>
	</insert>

</sqlMap>