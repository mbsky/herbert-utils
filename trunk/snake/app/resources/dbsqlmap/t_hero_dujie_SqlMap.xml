<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="t_hero_dujie">
	<typeAlias alias="HeroDujieData" type="net.snake.gamemodel.dujie.bean.HeroDujieData" />
	<resultMap class="HeroDujieData" id="HeroDujieDataRes">
		
		<result property="heroId" jdbcType="INTEGER" column="f_character_id" />
		<result property="name" jdbcType="VARCHAR" column="f_hero_name" />
		<result property="num" jdbcType="INTEGER" column="f_dujie_num" />
		<result property="roushen" jdbcType="INTEGER" column="f_roushen" />
		<result property="process" jdbcType="INTEGER" column="f_process" />
		<result property="isguard" jdbcType="INTEGER" column="f_isguard" />
		<result property="gs" jdbcType="INTEGER" column="f_gs" />
		<result property="income" jdbcType="INTEGER" column="f_income" />
		<result property="head" jdbcType="INTEGER" column="f_head" />
	</resultMap>

	<select id="queryall" resultMap="HeroDujieDataRes">
		select * from t_character_dujie
	</select>
	
	<select id="getCache" resultMap="HeroDujieDataRes">
		select * from t_character_dujie where f_dujie_num >1 and f_isguard =1 limit 0,1024
	</select>
	
	<select id="selectOne" parameterClass="java.lang.Integer" resultMap="HeroDujieDataRes">
		select * from t_character_dujie where f_character_id = #heroId#
	</select>
	
	<insert id="insert" parameterClass="HeroDujieData">
		insert into t_character_dujie (f_character_id, f_dujie_num, f_roushen,f_process,f_isguard,f_gs,f_hero_name,f_income,f_head)
		values (#heroId:INTEGER#, #num:INTEGER#, #roushen:INTEGER#,#process:INTEGER#,#isguard:INTEGER#,#gs:INTEGER#,#name:VARCHAR#,#income:INTEGER#,#head:INTEGER#)
		<!-- <selectKey keyProperty="id" resultClass="java.lang.Integer">
			SELECT LAST_INSERT_ID()
		</selectKey>
		-->
	</insert>

	<update id="updateById" parameterClass="HeroDujieData">
		update t_character_dujie
		set f_dujie_num = #num:INTEGER#,
		f_roushen = #roushen:INTEGER#,
		f_process = #process:INTEGER#,
		f_isguard = #isguard:INTEGER#,
		f_gs = #gs:INTEGER#,
		f_income = #income:INTEGER#
		where f_character_id = #heroId:INTEGER#
	</update>
	<update id="updateIncome" parameterClass="HeroDujieData">
		update t_character_dujie
		set f_income = f_income + #income:INTEGER#
		where f_character_id = #heroId:INTEGER#
	</update>

	<delete id="delete" parameterClass="java.lang.Integer">
		delete t_character_dujie where f_character_id=#heroId#
	</delete>
</sqlMap>