<?xml version="1.0" encoding="GBK"?>
<project basedir="." default="update">
<property file="build.properties" />
	<!--该文件用于更新客户端svn目录-->
	<property name="svn.user" value="clientbuilder" />
	<property name="svn.password" value="clientbuilder" />

	<!--===================================-->
	<path id="svnant.classpath">
		<fileset dir="${basedir}/svnlib">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<!-- load the svn task -->
	<typedef resource="org/tigris/subversion/svnant/svnantlib.xml" classpathref="svnant.classpath" />

	<!--编译-->


	<target name="checkout">
		<svn username="${svn.user}" password="${svn.password}">
			<checkout url="${svnurl}" revision="HEAD" destPath="${svncheckout.dir}" />
		</svn>
	</target>

	<target name="update">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		
		<!--加密-->
		<ant target="build" antfile="${basedir}/FlashEncrpy.xml">
		</ant>

		<!--
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}" />			
			<add>
				<fileset dir="${svncheckout.dir}">
					<include name="**/*.tse" />
					<include name="**/*.tsze" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}" message="" />
		</svn>
		
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res" />
			<add>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/codelib">
					<include name="**/*.tse" />
					<include name="**/*.swf" />
				</fileset>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/data/ico">
					<include name="**/*.tse" />
					<include name="**/*.swf" />
				</fileset>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/data/avatar">
					<include name="**/*.tse" />
					<include name="**/*.swf" />
				</fileset>
			</add>

			<commit dir="${svncheckout.dir}/res/data/config" message="" />
			<commit dir="${svncheckout.dir}/res/data/ico_big" message="" />
			<commit dir="${svncheckout.dir}/res/data/ico" message="" />
			<commit dir="${svncheckout.dir}/res/data/avatar" message="" />

			<add>
				<fileset dir="D:/TOMCAT/webapps/flashdir/">
					<include name="**/*.tse" />
					<include name="**/*.tsze" />
				</fileset>
			</add>

			<commit dir="${svncheckout.dir}" message="" />
		</svn>-->
	</target>
	<target name="commit">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res" />
			<!--
			<add>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/codelib">
					<include name="**/*.tse" />
					<include name="**/*.swf" />
				</fileset>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/data/ico">
					<include name="**/*.tse" />
					<include name="**/*.swf" />
				</fileset>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/data/avatar">
					<include name="**/*.tse" />
					<include name="**/*.swf" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/res/data/config" message="" />-->
			<commit dir="${svncheckout.dir}/res/data/ico_big" message="" />
		<!-- 
			<commit dir="${svncheckout.dir}/res/data/ico" message="" />
			-->
			<commit dir="${svncheckout.dir}/program/config/config/" message="" />
			<commit dir="${svncheckout.dir}/res/data/avatar" message="" />
			<commit dir="${svncheckout.dir}/res " message="" />
		</svn>
	</target>

	<target name="avatarCommit">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res/data/avatar" />
			<add>
				<fileset dir="${svncheckout.dir}/res/data/avatar">
					<include name="**/*.swf" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/res/data/avatar" message="" />
		</svn>
	</target>
	<target name="configCommit">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/program/config/config/" />
			<add>
				<fileset dir="${svncheckout.dir}/program/config/config/">
					<include name="**/*.xml" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/program/config/config/" message="" />
		</svn>
		
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res/data/maps/" />
			<add>
				<fileset dir="${svncheckout.dir}/res/data/maps/">
					<include name="**/*.xml" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/res/data/maps/" message="" />
		</svn>


	</target>
	<target name="soundCommit">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res/data/sound" />
			<add>
				<fileset dir="${svncheckout.dir}/res/data/sound">
					<include name="**/*.swf" />
					<include name="**/*.mp3" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/res/data/sound" message="" />
		</svn>
	</target>

	<target name="swfIconCommit">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<commit dir="${svncheckout.dir}/program/skin" message="" />
		</svn>
	</target>

	<target name="bigIconCommit">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<add>
				<fileset dir="D:/TOMCAT/webapps/flashdir/res/data/ico_big/" id="*.*">
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/res/data/ico_big" message="" />
		</svn>
	</target>


	<target name="add">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res" />
			<add>
			<fileset dir="${svncheckout.dir}/res/data/avatar">
				<include name="**/*.swf" />
			</fileset>

			</add>

			<!--
			<add>
				<fileset dir="D:/TOMCAT/webapps/flashdir/">
					<include name="**/*.tse" />
					<include name="**/*.tsze" />
				</fileset>
			</add>
			<commit dir="${svncheckout.dir}/res/data/ico" message="" />
			<commit dir="${svncheckout.dir}/res/data/config" message="" />-->
			<commit dir="${svncheckout.dir}/program/skin" message="" />
			<commit dir="${svncheckout.dir}/program/config/config/" message="" />
			<commit dir="${svncheckout.dir}/res/data/ico_big" message="" />
			<commit dir="${svncheckout.dir}/res/data/avatar" message="" />
			<commit dir="${svncheckout.dir}" message="" />

		</svn>
	</target>

	<target name="addicotobig">
		<svn username="${svn.user}" password="${svn.password}">
			<update dir="${svncheckout.dir}" />
		</svn>
		<svn username="${svn.user}" password="${svn.password}">
			<cleanup dir="${svncheckout.dir}/res" />
			<add>
				<fileset dir="D:/TOMCAT3/webapps/flashdir/res/data/ico_big/" id="*.*">
				</fileset>
			</add>

			<commit dir="${svncheckout.dir}/program/config/config/" message="" />
			<commit dir="${svncheckout.dir}/res/data/ico_big" message="" />
			<commit dir="${svncheckout.dir}/program/skin" message="" />
			<commit dir="${svncheckout.dir}/res/data/avatar" message="" />

		</svn>
	</target>
</project>